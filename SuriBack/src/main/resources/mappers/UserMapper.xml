<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.uos.suribank.dao.UserDAO">

	<!-- login 쿼리 -->
	<select id="login" parameterType="com.uos.suribank.dto.UserVO" resultType="com.uos.suribank.dto.UserVO">
		select id, name, nickname from user where id=#{id} and password=#{password}
	</select>
	
	<!--  회원가입 쿼리 -->
	<insert id="signup" parameterType="com.uos.suribank.dto.UserVO">
		insert into user (id, password, name, nickname, email) values ( #{id}, #{password}, #{name}, #{nickname} , #{email})
	</insert>
	
	<!-- ID 중복확인 쿼리 -->
	<select id= "checkId" parameterType="String" resultType = "Integer" >
		select count(*) from user where id = #{id}
	</select>
	
	<!-- 전체 유저 받아오기 -->
	<select id="getAllUsers" parameterType="com.uos.suribank.dto.UserVO" resultType = "com.uos.suribank.dto.UserVO">
		select _no, id, password, name, nickname, email, type, date_format(registerdate, '%Y.%m.%d %H:%i:%s')as registerdate, point from user
	</select>

</mapper>